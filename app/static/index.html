<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Planner MVP</title>
  <link rel="stylesheet" href="/static/css/tokens.css" />
  <link rel="stylesheet" href="/static/css/app.css" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
</head>
<body>
  <div class="app">
    <div class="blob" aria-hidden="true"></div>
    <div class="frame" aria-hidden="true"></div>
    <header class="top">
      <div class="toprow">
        <div>
          <div class="title">Schedule</div>
          <div class="subtitle" id="subtitle">Today</div>
        </div>
        <div class="top-actions">
  <button class="voiceTopBtn" id="voiceTopBtn" type="button" aria-label="Voice input">
    <svg class="voiceTopIcon" viewBox="0 0 24 24" aria-hidden="true">
      <path d="M12 14a3 3 0 0 0 3-3V7a3 3 0 0 0-6 0v4a3 3 0 0 0 3 3z"></path>
      <path d="M19 11a7 7 0 0 1-14 0"></path>
      <path d="M12 18v3"></path>
      <path d="M8 21h8"></path>
    </svg>
  </button>
  <button class="tzpill" id="btnTZ" type="button">TZ</button>
</div>
      </div>
      <div class="week" id="week"></div>
    </header>

    <main class="content">
  <!-- Schedule screen -->
  <div id="screenSchedule" class="screen active">
    <section class="timeline">
      <div class="timeline-head">
        <div class="pill" id="selectedDatePill">‚Äî</div>
        <div class="spacer"></div>
        <button class="ghost" id="btnToday" type="button">Today</button>
      </div>
      <div id="dayGrid" class="day-grid"></div>
    </section>

    <section class="panel">
      <div class="panel-head">
        <div class="panel-title">Inbox</div>
        <div class="panel-actions">
          <button class="ghost" id="btnRefresh" type="button">‚Üª</button>
        </div>
      </div>
      <div id="taskList" class="task-list"></div>
    </section>
  </div>

  <!-- Tasks screen -->
  <div id="screenTasks" class="screen">
    <section class="panel">
      <div class="panel-head">
        <div class="panel-title">Tasks</div>
        <div class="panel-actions">
          <button class="ghost" id="btnTasksRefresh" type="button">‚Üª</button>
        </div>
      </div>

      <div class="search">
        <input id="tasksSearch" type="search" placeholder="–ü–æ–∏—Å–∫ –∑–∞–¥–∞—á‚Ä¶" />
      </div>

      <div class="chips">
        <button class="chip active" data-filter="inbox" type="button">Inbox</button>
        <button class="chip" data-filter="today" type="button">Today</button>
        <button class="chip" data-filter="upcoming" type="button">Upcoming</button>
      </div>

      <div id="taskListAll" class="task-list"></div>
    </section>
  </div>

  <!-- Week screen -->
  <div id="screenWeek" class="screen">
    <section class="panel">
      <div class="panel-head">
        <div class="panel-title">Week</div>
        <div class="panel-actions">
          <button class="ghost" id="btnWeekRefresh" type="button">‚Üª</button>
        </div>
      </div>

      <div class="week-hint">
        –¢–∞–ø –ø–æ –¥–Ω—é –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ. –ù–∞–∂–º–∏ <b>+</b>, —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å —Å–æ–±—ã—Ç–∏–µ –≤ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –¥–µ–Ω—å.
      </div>

      <div id="weekList" class="week-list"></div>
    </section>
  </div>
</main>

    <nav class="bottom bottom-v3">
      <div class="tab-indicator" id="tabIndicator"></div>
      <div class="tab-pill" id="tabPill" aria-hidden="true"></div>

      <button class="tab active" data-tab="schedule" id="tabSchedule" type="button" aria-label="Schedule">
        <svg class="navicon" viewBox="0 0 24 24" aria-hidden="true">
          <rect x="3.5" y="5" width="17" height="16" rx="4"></rect>
          <path d="M7 3.5v3M17 3.5v3M3.5 9h17"></path>
          <path d="M7.5 12.5h3M13.5 12.5h3M7.5 16.5h3M13.5 16.5h3"></path>
        </svg>
        <span class="lbl">Schedule</span>
      </button>

      <button class="tab" data-tab="tasks" id="tabTasks" type="button" aria-label="Tasks">
        <svg class="navicon" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M20 6l-11 11-5-5"></path>
          <path d="M21 12a9 9 0 1 1-9-9"></path>
        </svg>
        <span class="lbl">Tasks</span><span class="dotbadge" id="tasksDot" aria-hidden="true"></span>
      </button>

      <button class="tab" data-tab="calendar" id="tabWeek" type="button" aria-label="Week">
        <svg class="navicon" viewBox="0 0 24 24" aria-hidden="true">
          <rect x="3.5" y="5" width="17" height="16" rx="4"></rect>
          <path d="M3.5 9h17"></path>
          <path d="M8.3 12.3h2.7v2.7H8.3zM13 12.3h2.7v2.7H13zM8.3 17h2.7v2.7H8.3zM13 17h2.7v2.7H13z"></path>
        </svg>
        <span class="lbl">Week</span>
      </button>
    </nav>

    <button class="fab" id="fab">+</button>
    <button class="micfab" id="micFab" type="button" aria-label="Voice input">
      <svg class="micicon" viewBox="0 0 24 24" aria-hidden="true">
        <path d="M12 14a3 3 0 0 0 3-3V7a3 3 0 0 0-6 0v4a3 3 0 0 0 3 3z"></path>
        <path d="M19 11a7 7 0 0 1-14 0"></path>
        <path d="M12 18v3"></path>
        <path d="M8 21h8"></path>
      </svg>
    </button>
  </div>

  <!-- Modal -->
  <div class="modal" id="modal" aria-hidden="true">
    <div class="backdrop" id="backdrop"></div>
    <div class="sheet">
      <div class="sheet-head">
        <div class="sheet-title" id="sheetTitle">–î–æ–±–∞–≤–∏—Ç—å</div>
        <button class="ghost" id="closeModal">‚úï</button>
      </div>

      <div class="sheet-body">
        <div class="seg">
          <button class="segbtn active" id="segTask">–ó–∞–¥–∞—á–∞</button>
          <button class="segbtn" id="segEvent">–°–æ–±—ã—Ç–∏–µ</button>
        </div>

        <label class="field">
          <span>–ù–∞–∑–≤–∞–Ω–∏–µ</span>
          <input id="inpTitle" type="text" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: Jogging" />
        </label>

        <label class="field">
          <span>–ü—Ä–æ–µ–∫—Ç</span>
          <select id="selProject"></select>
        </label>

        <div class="row">
          <label class="field">
            <span>–î–∞—Ç–∞</span>
            <input id="inpDate" type="date" />
          </label>
          <label class="field">
            <span>–í—Ä–µ–º—è</span>
            <input id="inpTime" type="time" />
          </label>
        </div>

        <div class="row" id="eventFields">
          <label class="field">
            <span>–ö–æ–Ω–µ—Ü</span>
            <input id="inpEndTime" type="time" />
          </label>
          <label class="field">
            <span>–¶–≤–µ—Ç</span>
            <input id="inpColor" type="color" value="#6EA8FF" />
          </label>
        </div>

        <div class="row" id="taskFields">
          <label class="field">
            <span>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</span>
            <select id="selPriority">
              <option value="1">P1</option>
              <option value="2" selected>P2</option>
              <option value="3">P3</option>
              <option value="4">P4</option>
            </select>
          </label>
          <label class="field">
            <span>–û—Ü–µ–Ω–∫–∞</span>
            <select id="selEstimate">
              <option value="15">15 –º–∏–Ω</option>
              <option value="30" selected>30 –º–∏–Ω</option>
              <option value="45">45 –º–∏–Ω</option>
              <option value="60">60 –º–∏–Ω</option>
              <option value="90">90 –º–∏–Ω</option>
            </select>
          </label>
        </div>

        <div class="row actions">
          <button class="ghost" id="saveNextBtn" type="button">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å + –µ—â—ë</button>
          <button class="primary" id="saveBtn" type="button">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>

        <div class="hint">
          üí° –ü–µ—Ä–µ—Ç–∞—â–∏ –∑–∞–¥–∞—á—É –∏–∑ Inbox –Ω–∞ –Ω—É–∂–Ω–æ–µ –≤—Ä–µ–º—è –≤ —Ç–∞–π–º–ª–∞–π–Ω–µ ‚Äî –æ–Ω–∞ —Å—Ç–∞–Ω–µ—Ç –±–ª–æ–∫–æ–º.
        </div>
      </div>
    </div>
  
  <!-- Timezone Modal -->
  <div class="modal" id="tzModal" aria-hidden="true">
    <div class="backdrop" id="tzBackdrop"></div>
    <div class="sheet">
      <div class="sheet-head">
        <div class="sheet-title">–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å</div>
        <button class="ghost" id="tzClose" type="button">‚úï</button>
      </div>
      <div class="sheet-body">
        <div class="hint" style="margin-bottom:10px">
          –ê–≤—Ç–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤–∫–ª—é—á–µ–Ω–æ. –ú–æ–∂–Ω–æ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤—Ä—É—á–Ω—É—é.
        </div>

        <label class="field">
          <span>Timezone</span>
          <select id="tzSelect"></select>
        </label>

        <div class="row">
          <button class="ghost" id="tzAutoBtn" type="button">–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å timezone —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞</button>
          <button class="primary" id="tzSaveBtn" type="button">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        </div>
      </div>
    </div>
  </div>
</div>

  

  <!-- Voice Modal -->
  <div class="modal" id="voiceModal" aria-hidden="true">
    <div class="backdrop" id="voiceBackdrop"></div>
    <div class="sheet voice-sheet">
      <div class="sheet-head">
        <div class="sheet-title" id="voiceSheetTitle">–ì–æ–ª–æ—Å–æ–≤–æ–π –≤–≤–æ–¥</div>
        <button class="ghost" id="voiceClose" type="button">‚úï</button>
      </div>

      <div class="sheet-body">
        <div class="voice-center">
          <div class="voice-status" id="voiceStatus">–ù–∞–∂–º–∏ ¬´üéôÔ∏è¬ª, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å</div>

          <button class="voice-micbtn" id="voiceMicBtn" type="button" aria-label="Start/Stop voice">
            <span class="voice-pulse" aria-hidden="true"></span>
            <svg class="voice-micicon" viewBox="0 0 24 24" aria-hidden="true">
              <path d="M12 14a3 3 0 0 0 3-3V7a3 3 0 0 0-6 0v4a3 3 0 0 0 3 3z"></path>
              <path d="M19 11a7 7 0 0 1-14 0"></path>
              <path d="M12 18v3"></path>
              <path d="M8 21h8"></path>
            </svg>
          </button>

          <div class="voice-wave" id="voiceWave" aria-hidden="true">
            <span></span><span></span><span></span><span></span><span></span><span></span>
          </div>

          <div class="voice-text" id="voiceText" hidden></div>

          <div class="voice-preview" id="voicePreview" hidden>
            <div class="voice-chiprow" id="voiceChips"></div>
            <div class="voice-titleprev" id="voiceTitlePrev"></div>
          </div>
        </div>

        <div class="row actions voice-actions">
          <button class="ghost" id="voiceRetry" type="button">–ü–æ–≤—Ç–æ—Ä–∏—Ç—å</button>
          <button class="ghost" id="voiceEdit" type="button">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
          <button class="primary" id="voiceAdd" type="button">–î–æ–±–∞–≤–∏—Ç—å</button>
        </div>

        <div class="hint" id="voiceHint">
          –ü—Ä–∏–º–µ—Ä: ¬´–≤—Å—Ç—Ä–µ—á–∞ 14:00‚Äì15:00 —Å–µ–≥–æ–¥–Ω—è¬ª –∏–ª–∏ ¬´–∫—É–ø–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç—ã –∑–∞–≤—Ç—Ä–∞¬ª.
        </div>
      </div>
    </div>
  </div>
  <!-- End Voice Modal -->


<script src="/static/js/api.js"></script>
  <script src="/static/js/app.js"></script>
</body>
</html>
