<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <meta name="theme-color" content="#0B0F19"/>
  <title>TaskFlow</title>
  <link rel="manifest" href="/manifest.json?v=1770542249"/>
  <link rel="icon" href="/logo.png?v=1770542249"/>
  <link rel="stylesheet" href="/style.css?v=1770542249"/>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script>window.__BUILD="1770542249";</script>
</head>
<body>
  <div id="app" class="app" data-theme="dark">
    <div class="shell">
      <!-- Drawer -->
      <aside id="drawer" class="drawer" aria-hidden="true">
        <div class="drawer__top">
          <div class="user">
            <img class="user__avatar" src="/logo.png" alt=""/>
            <div class="user__meta">
              <div class="user__name" id="userName">–ì–æ—Å—Ç—å</div>
              <div class="user__sub" id="userSub">TaskFlow</div>
            </div>
          </div>
          <button class="iconbtn" id="closeDrawerBtn" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
        </div>

        <div class="drawer__section">
          <div class="drawer__title">–£–º–Ω—ã–µ —Å–ø–∏—Å–∫–∏</div>
          <button class="navitem" data-smart="inbox">üì• –í—Ö–æ–¥—è—â–∏–µ</button>
          <button class="navitem" data-smart="today">üìÖ –°–µ–≥–æ–¥–Ω—è</button>
          <button class="navitem" data-smart="upcoming">‚è≥ –ü—Ä–µ–¥—Å—Ç–æ—è—â–∏–µ</button>
          <button class="navitem" data-smart="overdue">‚ö†Ô∏è –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ</button>
          <button class="navitem" data-smart="done">‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ</button>
        </div>

        <div class="drawer__section">
          <div class="drawer__title row">
            <span>–°–ø–∏—Å–∫–∏</span>
            <button class="chip" id="newListBtn">Ôºã</button>
          </div>
          <div id="listsWrap" class="lists"></div>
        </div>

        <div class="drawer__section">
          <div class="drawer__title">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</div>
          <div class="field">
            <label>–¢–µ–º–∞</label>
            <select id="themeSelect">
              <option value="auto">–ê–≤—Ç–æ</option>
              <option value="dark">–¢—ë–º–Ω–∞—è</option>
              <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
            </select>
          </div>
          <div class="field">
            <label>–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å (–æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ)</label>
            <select id="tzSelect">
              <option value="auto">–ê–≤—Ç–æ</option>
              <option value="UTC">UTC</option>
              <option value="Europe/Moscow">Europe/Moscow</option>
              <option value="Europe/Kyiv">Europe/Kyiv</option>
              <option value="Asia/Almaty">Asia/Almaty</option>
              <option value="Asia/Tbilisi">Asia/Tbilisi</option>
            </select>
          </div>

          <button class="ghostbtn" id="exportBtn">–≠–∫—Å–ø–æ—Ä—Ç JSON</button>
        </div>
      </aside>

      <!-- Main -->
      <main class="main">
        <header class="topbar">
          <button class="iconbtn" id="openDrawerBtn" aria-label="–ú–µ–Ω—é">‚ò∞</button>
          <div class="topbar__title">
            <div id="pageTitle" class="topbar__h">–í—Ö–æ–¥—è—â–∏–µ</div>
            <div id="pageSubtitle" class="topbar__s">TickTick‚Äëlike</div>
          </div>
          <div class="topbar__actions">
            <button class="iconbtn" id="syncBtn" title="–û–±–Ω–æ–≤–∏—Ç—å">‚ü≥</button>
            <button class="iconbtn primary" id="quickAddBtn" title="–î–æ–±–∞–≤–∏—Ç—å">Ôºã</button>
          </div>
        </header>

        <!-- TASKS VIEW -->
        <section id="viewTasks" class="view view--active">
          <div class="searchbar">
            <span class="searchbar__icon">‚åï</span>
            <input id="searchInput" placeholder="–ü–æ–∏—Å–∫ –∑–∞–¥–∞—á..." autocomplete="off"/>
            <button class="iconbtn small" id="clearSearchBtn" title="–û—á–∏—Å—Ç–∏—Ç—å">‚úï</button>
          </div>

          <div class="chips" id="filterChips">
            <button class="chip chip--active" data-filter="active">–ê–∫—Ç–∏–≤–Ω—ã–µ</button>
            <button class="chip" data-filter="all">–í—Å–µ</button>
          </div>

          <div id="tasksList" class="tasklist"></div>
          <div id="emptyState" class="empty">
            <div class="empty__icon">üìù</div>
            <div class="empty__h">–ü–æ–∫–∞ –ø—É—Å—Ç–æ</div>
            <div class="empty__p">–ù–∞–∂–º–∏ ¬´Ôºã¬ª —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É</div>
          </div>
        </section>

        <!-- CALENDAR VIEW -->
        <section id="viewCalendar" class="view">
          <div class="calhead">
            <button class="iconbtn" id="calPrev">‚Äπ</button>
            <div class="calhead__mid">
              <div id="calTitle" class="calhead__title">‚Äî</div>
              <div class="calhead__sub">–ù–∞–∂–º–∏ –¥–µ–Ω—å ‚Äî —É–≤–∏–¥–∏—à—å –∑–∞–¥–∞—á–∏</div>
            </div>
            <button class="iconbtn" id="calNext">‚Ä∫</button>
          </div>

          <div class="calgrid__week">
            <div>–ü–Ω</div><div>–í—Ç</div><div>–°—Ä</div><div>–ß—Ç</div><div>–ü—Ç</div><div class="wknd">–°–±</div><div class="wknd">–í—Å</div>
          </div>
          <div id="calGrid" class="calgrid"></div>

          <div class="agenda">
            <div class="agenda__top">
              <div>
                <div id="agendaTitle" class="agenda__h">‚Äî</div>
                <div class="agenda__s">–ó–∞–¥–∞—á–∏ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –¥–µ–Ω—å</div>
              </div>
              <button class="pill" id="addFromCalendarBtn">Ôºã –ó–∞–¥–∞—á–∞</button>
            </div>
            <div id="agendaList" class="agendalist"></div>
            <div id="agendaEmpty" class="agendaempty">
              <div class="agendaempty__icon">üìÜ</div>
              <div class="agendaempty__h">–ù–µ—Ç –∑–∞–¥–∞—á –Ω–∞ —ç—Ç–æ—Ç –¥–µ–Ω—å</div>
              <div class="agendaempty__p">–ù–∞–∂–º–∏ ¬´Ôºã –ó–∞–¥–∞—á–∞¬ª —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å</div>
            </div>
          </div>
        </section>

        <!-- OVERDUE VIEW -->
        <section id="viewOverdue" class="view">
          <div class="sectionTitle">–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ</div>
          <div id="overdueList" class="tasklist"></div>
          <div id="overdueEmpty" class="empty small">
            <div class="empty__icon">üéâ</div>
            <div class="empty__h">–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á –Ω–µ—Ç</div>
          </div>
        </section>

        <!-- SETTINGS VIEW (simple) -->
        <section id="viewSettings" class="view">
          <div class="sectionTitle">–ú–µ–Ω—é</div>
          <div class="card">
            <div class="row space">
              <div>
                <div class="card__h">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</div>
                <div class="card__p" id="menuUser">‚Äî</div>
              </div>
              <button class="ghostbtn" id="openDrawerFromMenu">–û—Ç–∫—Ä—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
            </div>
          </div>
          <div class="card">
            <div class="card__h">–°–æ–≤–µ—Ç—ã</div>
            <div class="card__p">–û—Ç–∫—Ä–æ–π TaskFlow –∫–∞–∫ WebApp –≤–Ω—É—Ç—Ä–∏ Telegram ‚Äî –∏–º—è –ø–æ–¥—Ç—è–Ω–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.</div>
          </div>
        </section>

        <!-- Bottom nav -->
        <nav class="bottomnav">
          <button class="bnav bnav--active" data-nav="tasks">üßæ<span>–ó–∞–¥–∞—á–∏</span></button>
          <button class="bnav" data-nav="calendar">üìÖ<span>–ö–∞–ª–µ–Ω–¥–∞—Ä—å</span></button>
          <button class="bnav bnav--plus" id="navAdd">Ôºã</button>
          <button class="bnav" data-nav="overdue">‚ö†Ô∏è<span>–ü—Ä–æ—Å—Ä–æ—á.</span></button>
          <button class="bnav" data-nav="settings">üë§<span>–ú–µ–Ω—é</span></button>
        </nav>

        <!-- Add/Edit Sheet -->
        <div id="sheetBackdrop" class="backdrop hidden"></div>
        <div id="taskSheet" class="sheet hidden" role="dialog" aria-modal="true">
          <div class="sheet__top">
            <div class="sheet__title" id="sheetTitle">–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</div>
            <button class="iconbtn" id="closeSheetBtn">‚úï</button>
          </div>

          <div class="sheet__body">
            <div class="field">
              <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
              <input id="taskTitleInput" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç—á—ë—Ç"/>
            </div>

            <div class="field">
              <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
              <textarea id="taskDescInput" rows="3" placeholder="–î–µ—Ç–∞–ª–∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"></textarea>
            </div>

            <div class="row2">
              <div class="field">
                <label>–î–∞—Ç–∞</label>
                <input id="taskDateInput" type="date"/>
              </div>
              <div class="field">
                <label>–í—Ä–µ–º—è</label>
                <input id="taskTimeInput" type="time"/>
              </div>
            </div>

            <div class="row2">
              <div class="field">
                <label>–°–ø–∏—Å–æ–∫</label>
                <select id="taskListSelect"></select>
              </div>
              <div class="field">
                <label>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
                <select id="taskPrioSelect">
                  <option value="low">–ù–∏–∑–∫–∏–π</option>
                  <option value="medium" selected>–°—Ä–µ–¥–Ω–∏–π</option>
                  <option value="high">–í—ã—Å–æ–∫–∏–π</option>
                </select>
              </div>
            </div>

            <div class="row space">
              <button class="ghostbtn" id="clearDueBtn">–ë–µ–∑ —Å—Ä–æ–∫–∞</button>
              <button class="btn" id="saveTaskBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>

            <div class="dangerRow hidden" id="editActions">
              <button class="ghostbtn" id="toggleDoneBtn">–ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
              <button class="dangerbtn" id="deleteTaskBtn">–£–¥–∞–ª–∏—Ç—å</button>
            </div>
          </div>
        </div>

        <!-- New List Modal -->
        <div id="listModalBackdrop" class="backdrop hidden"></div>
        <div id="listModal" class="modal hidden" role="dialog" aria-modal="true">
          <div class="modal__top">
            <div class="modal__title">–ù–æ–≤—ã–π —Å–ø–∏—Å–æ–∫</div>
            <button class="iconbtn" id="closeListModalBtn">‚úï</button>
          </div>
          <div class="modal__body">
            <div class="field">
              <label>–ù–∞–∑–≤–∞–Ω–∏–µ</label>
              <input id="listNameInput" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –£—á—ë–±–∞"/>
            </div>
            <div class="field">
              <label>–¶–≤–µ—Ç</label>
              <input id="listColorInput" type="color" value="#2ECC71"/>
            </div>
            <button class="btn" id="createListBtn">–°–æ–∑–¥–∞—Ç—å</button>
          </div>
        </div>

        <div id="toast" class="toast hidden"></div>
      </main>
    </div>
  </div>

  <script src="/app.js?v=1770542249"></script>
</body>
</html>
