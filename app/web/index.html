<!doctype html>
<html lang="ru">
<head>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <meta name="theme-color" content="#0B0F14" />
  <title>TaskFlow</title>
  <link rel="manifest" href="/static/manifest.json" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="\1?v=1770480907" />
</head>
<body>
  <div class="toast" id="toast" aria-live="polite"></div>

  <div class="app" id="app">
    <header class="topbar">
      <div class="brand">
        <div class="logo"><img class="logoImg" src="/logo.png" alt="TaskFlow"></div>
        <div class="brandText">
          <div class="brandTitle">TaskFlow</div>
          <div class="brandSub" id="subtitle">–ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è‚Ä¶</div>
        </div>
      </div>

      <div class="topActions">
        <button class="iconBtn" id="syncBtn" title="–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å" aria-label="–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å"><span class="i">‚ü≥</span></button>
        <button class="iconBtn" id="addBtn" title="–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞" aria-label="–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞"><span class="i">Ôºã</span></button>
      </div>
    </header>

    <main class="content" id="content">
      <!-- TASKS SCREEN -->
      <section class="screen show" id="screenTasks">
        <section class="hero">
          <div class="heroLeft">
            <div class="heroTitle">–§–æ–∫—É—Å –Ω–∞ —Å–µ–≥–æ–¥–Ω—è</div>
            <div class="heroDesc">–î–æ–±–∞–≤—å –¥–µ–¥–ª–∞–π–Ω ‚Äî –±–æ—Ç –Ω–∞–ø–æ–º–Ω–∏—Ç –∑–∞ 15 –º–∏–Ω—É—Ç. –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—é—Ç—Å—è.</div>
          </div>
          <button class="pill" id="exportBtn" type="button">–≠–∫—Å–ø–æ—Ä—Ç</button>

          <div class="kpis">
            <div class="kpi"><div class="kpiVal" id="kpiActive">0</div><div class="kpiLbl">–ê–∫—Ç–∏–≤–Ω—ã–µ</div></div>
            <div class="kpi"><div class="kpiVal" id="kpiToday">0</div><div class="kpiLbl">–°–µ–≥–æ–¥–Ω—è</div></div>
            <div class="kpi danger"><div class="kpiVal" id="kpiOverdue">0</div><div class="kpiLbl">–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ</div></div>
          </div>

          <div class="searchRow">
            <input class="input" id="searchInput" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∑–∞–¥–∞—á–∞–º‚Ä¶" />
            <button class="chipBtn" id="clearSearch" title="–û—á–∏—Å—Ç–∏—Ç—å" aria-label="–û—á–∏—Å—Ç–∏—Ç—å">‚úï</button>
          </div>
        </section>

        <section class="filters" id="filtersTasks">
          <button class="seg active" data-filter="active">–ê–∫—Ç–∏–≤–Ω—ã–µ</button>
          <button class="seg" data-filter="today">–°–µ–≥–æ–¥–Ω—è</button>
          <button class="seg" data-filter="overdue">–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ</button>
          <button class="seg" data-filter="upcoming">–°–∫–æ—Ä–æ</button>
          <button class="seg" data-filter="done">–ì–æ—Ç–æ–≤–æ</button>
        </section>

        <section class="listHeader">
          <div class="listTitle" id="listTitle">–ê–∫—Ç–∏–≤–Ω—ã–µ</div>
          <div class="counter" id="listCounter">0</div>
        </section>

        <section class="cards" id="cards"></section>

        <section class="empty" id="empty">
          <div class="emptyIcon">üìù</div>
          <div class="emptyTitle">–ü–æ–∫–∞ –ø—É—Å—Ç–æ</div>
          <div class="emptyDesc">–ù–∞–∂–º–∏ <b>Ôºã</b> –∏ –¥–æ–±–∞–≤—å –ø–µ—Ä–≤—É—é –∑–∞–¥–∞—á—É</div>
        </section>
      </section>

      <!-- CALENDAR SCREEN -->
      <section class="screen" id="screenCalendar">
        <section class="calHeader">
          <button class="calNav" id="calPrev" aria-label="–ü—Ä–µ–¥—ã–¥—É—â–∏–π –º–µ—Å—è—Ü">‚Äπ</button>
          <div class="calTitleWrap">
            <div class="calTitle" id="calTitle">–ú–µ—Å—è—Ü 2026</div>
            <div class="calSub" id="calSub">–ù–∞–∂–º–∏ –¥–µ–Ω—å ‚Äî —É–≤–∏–¥–∏—à—å –∑–∞–¥–∞—á–∏</div>
          </div>
          <button class="calNav" id="calNext" aria-label="–°–ª–µ–¥—É—é—â–∏–π –º–µ—Å—è—Ü">‚Ä∫</button>
        </section>

        <section class="calCard">
          <div class="calWeek">
            <div>–ü–Ω</div><div>–í—Ç</div><div>–°—Ä</div><div>–ß—Ç</div><div>–ü—Ç</div><div class="wknd">–°–±</div><div class="wknd">–í—Å</div>
          </div>
          <div class="calGrid" id="calGrid"></div>
        </section>

        <section class="dayPanel">
          <div class="dayPanelHead">
            <div>
              <div class="dayTitle" id="dayTitle">–î–µ–Ω—å</div>
              <div class="dayHint" id="dayHint">–ó–∞–¥–∞—á–∏ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –¥–µ–Ω—å</div>
            </div>
            <button class="pill small" id="dayAddBtn" type="button">Ôºã –ó–∞–¥–∞—á–∞</button>
          </div>

          <div class="cards" id="dayCards"></div>
          <section class="empty" id="dayEmpty">
            <div class="emptyIcon">üìÖ</div>
            <div class="emptyTitle">–ù–µ—Ç –∑–∞–¥–∞—á –Ω–∞ —ç—Ç–æ—Ç –¥–µ–Ω—å</div>
            <div class="emptyDesc">–ù–∞–∂–º–∏ <b>Ôºã –ó–∞–¥–∞—á–∞</b> —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å</div>
          </section>
        </section>
      </section>

      <!-- MENU SCREEN -->
      <section class="screen" id="screenMenu">
        <section class="menuCard">
          <div class="menuTitle">–ú–µ–Ω—é</div>
          <div class="menuList">
            <button class="menuItem" id="mSync"><span>‚ü≥</span><div><div class="miT">–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å</div><div class="miS">–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞</div></div></button>
            <button class="menuItem" id="mExport"><span>‚§ì</span><div><div class="miT">–≠–∫—Å–ø–æ—Ä—Ç JSON</div><div class="miS">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ –≤ –±—É—Ñ–µ—Ä</div></div></button>
            <button class="menuItem" id="mClearDone"><span>üßπ</span><div><div class="miT">–û—á–∏—Å—Ç–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ</div><div class="miS">–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏ ¬´–ì–æ—Ç–æ–≤–æ¬ª</div></div></button>

            <div class="menuSep"></div>

            <div class="menuRow">
              <div>
                <div class="miT">–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é</div>
                <div class="miS">–î–ª—è –Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á</div>
              </div>
              <select class="input compact" id="defaultReminder">
                <option value="on" selected>–í–∫–ª</option>
                <option value="off">–í—ã–∫–ª</option>
              </select>
            </div>

            <div class="menuRow">
              <div>
                <div class="miT">–ü–æ–¥—Å–≤–µ—Ç–∫–∞ –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö</div>
                <div class="miS">–ö—Ä–∞—Å–Ω—ã–º –∏ –≤ —Ñ–∏–ª—å—Ç—Ä–µ</div>
              </div>
              <select class="input compact" id="overdueHighlight">
                <option value="on" selected>–í–∫–ª</option>
                <option value="off">–í—ã–∫–ª</option>
              </select>
            </div>

            <div class="menuSep"></div>

            <div class="menuRow">
              <div>
                <div class="miT">–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å</div>
                <div class="miS">–í–ª–∏—è–µ—Ç –Ω–∞ –≤—Ä–µ–º—è –∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—å</div>
              </div>
              <select class="input compact" id="tzSelect"></select>
            </div>

            <div class="menuSep"></div>

            <div class="menuNote">
              <div class="miT">TaskFlow</div>
              <div class="miS">–ö–∞–ª–µ–Ω–¥–∞—Ä—å –∫–∞–∫ –≤ LeaderTask: —Ç–æ—á–∫–∏ –Ω–∞ –¥–Ω—è—Ö + —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –¥–Ω—é.</div>
            </div>
          </div>
        </section>
      </section>
    </main>

    <nav class="bottomNav">
      <button class="navBtn active" data-screen="tasks">–ó–∞–¥–∞—á–∏</button>
      <button class="navBtn" data-screen="calendar">–ö–∞–ª–µ–Ω–¥–∞—Ä—å</button>
      <button class="navBtn add" id="fab" aria-label="–î–æ–±–∞–≤–∏—Ç—å">Ôºã</button>
      <button class="navBtn" data-screen="overdue">–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ</button>
      <button class="navBtn" data-screen="menu">–ú–µ–Ω—é</button>
    </nav>
  </div>

  <!-- modal -->
  <div class="backdrop" id="backdrop"></div>
  <div class="modal" id="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modalHead">
      <div>
        <div class="modalTitle" id="modalTitle">–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</div>
        <div class="modalHint">–ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω –¥–µ–¥–ª–∞–π–Ω ‚Äî –±–æ—Ç –Ω–∞–ø–æ–º–Ω–∏—Ç –∑–∞ 15 –º–∏–Ω—É—Ç (–º–æ–∂–Ω–æ –≤—ã–∫–ª—é—á–∏—Ç—å).</div>
      </div>
      <button class="iconBtn" id="closeModal" aria-label="–ó–∞–∫—Ä—ã—Ç—å">‚úï</button>
    </div>

    <div class="form">
      <label class="lbl">–ù–∞–∑–≤–∞–Ω–∏–µ</label>
      <input class="input" id="fTitle" maxlength="200" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç—á—ë—Ç" />

      <label class="lbl">–û–ø–∏—Å–∞–Ω–∏–µ</label>
      <textarea class="input area" id="fDesc" maxlength="1000" placeholder="–î–µ—Ç–∞–ª–∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"></textarea>

      <div class="grid2 dtRow">
        <div>
          <label class="lbl">–î–∞—Ç–∞</label>
          <input class="input" id="fDate" type="date" />
        </div>
        <div>
          <label class="lbl">–í—Ä–µ–º—è</label>
          <input class="input" id="fTime" type="time" />
        </div>
      </div>

      <div class="grid2">
        <div>
          <label class="lbl">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</label>
          <select class="input" id="fPriority">
            <option value="high">–í—ã—Å–æ–∫–∏–π</option>
            <option value="medium" selected>–°—Ä–µ–¥–Ω–∏–π</option>
            <option value="low">–ù–∏–∑–∫–∏–π</option>
          </select>
        </div>
        <div>
          <label class="lbl">–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ</label>
          <select class="input" id="fReminder">
            <option value="on" selected>–í–∫–ª</option>
            <option value="off">–í—ã–∫–ª</option>
          </select>
        </div>
      </div>

      
      <div class="grid2">
        <div>
          <label class="lbl">–ü–æ–≤—Ç–æ—Ä—è—Ç—å</label>
          <select class="input" id="fRepeat">
            <option value="none" selected>–ù–µ –ø–æ–≤—Ç–æ—Ä—è—Ç—å</option>
            <option value="daily">–ö–∞–∂–¥—ã–π –¥–µ–Ω—å</option>
            <option value="weekly">–ö–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é</option>
            <option value="monthly">–ö–∞–∂–¥—ã–π –º–µ—Å—è—Ü</option>
            <option value="custom">–ü–æ –¥–Ω—è–º –Ω–µ–¥–µ–ª–∏</option>
          </select>
        </div>
        <div>
          <label class="lbl">–ü–æ–≤—Ç–æ—Ä—è—Ç—å –¥–æ</label>
          <input class="input" id="fRepeatUntil" type="date" />
        </div>
      </div>

      <div class="weekdays" id="weekdays" style="display:none;">
        <button type="button" class="wd" data-wd="0">–ü–Ω</button>
        <button type="button" class="wd" data-wd="1">–í—Ç</button>
        <button type="button" class="wd" data-wd="2">–°—Ä</button>
        <button type="button" class="wd" data-wd="3">–ß—Ç</button>
        <button type="button" class="wd" data-wd="4">–ü—Ç</button>
        <button type="button" class="wd" data-wd="5">–°–±</button>
        <button type="button" class="wd" data-wd="6">–í—Å</button>
      </div>

      <div class="modalActions">
        <button class="btn ghost" id="deleteBtn" type="button">–£–¥–∞–ª–∏—Ç—å</button>
        <button class="btn" id="saveBtn" type="button">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
      </div>
    </div>
  </div>

  <script src="\1?v=1770480907" defer></script>

<script>
(function() {
  const BUILD = "1770482430";
  // Force-bust cached HTML in Telegram WebView by ensuring query param matches build
  try {
    const url = new URL(location.href);
    if (url.searchParams.get("v") !== BUILD) {
      url.searchParams.set("v", BUILD);
      location.replace(url.toString());
      return;
    }
  } catch(e) {}

  // Inject CSS/JS with cache-busting
  const css = document.createElement('link');
  css.rel = 'stylesheet';
  css.href = '/style.css?v=' + BUILD + '&t=' + Date.now();
  document.head.appendChild(css);

  const js = document.createElement('script');
  js.src = '/app.js?v=' + BUILD + '&t=' + Date.now();
  js.defer = true;
  document.body.appendChild(js);
})();
</script>

</body>
</html>
