<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#F3F6FF" />
  <title>TaskFlow</title>

  <!-- Telegram WebApp SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <link rel="manifest" href="/manifest.json?v=1770554238">
  <link rel="icon" href="/static/assets/icons/icon-192.png">
  <link rel="preload" href="/style.css?v=1770554238" as="style">
  <link rel="stylesheet" href="/style.css?v=1770554238" />
</head>

<body>
  <div id="app" class="app">
    <!-- iOS Nav Bar -->
    <header class="iosNav" id="iosNav">
      <div class="iosNavLeft">
        <div class="appMark">
          <img src="/static/assets/logo.png?v=1770550367" alt="TaskFlow" class="appLogo"/>
        </div>
        <div class="appTitleWrap">
          <div class="appTitle">TaskFlow</div>
          <div class="appSubtitle" id="userSubtitle">–ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è‚Ä¶</div>
        </div>
      </div>

      <div class="iosNavRight">
        <button class="iconBtn" id="syncBtn" aria-label="–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å">
          <span class="i i-sync"></span>
        </button>
        <button class="iconBtn" id="topAddBtn" aria-label="–î–æ–±–∞–≤–∏—Ç—å">
          <span class="i i-plus"></span>
        </button>
      </div>
    </header>

    <!-- Segmented control like TickTick -->
    <div class="segWrap">
      <div class="seg" id="topSeg">
        <button class="segBtn isActive" data-seg="inbox">Inbox</button>
        <button class="segBtn" data-seg="today">Today</button>
        <button class="segBtn" data-seg="calendar">Calendar</button>
        <div class="segThumb" id="segThumb"></div>
      </div>
    </div>

    <main class="content" id="content">
      <!-- TASKS SCREEN -->
      <section class="screen show" id="screenTasks">
        <div class="ttSearchRow">
          <div class="ttSearch">
            <span class="i i-search"></span>
            <input id="searchInput" class="ttSInput" placeholder="–ü–æ–∏—Å–∫ –ø–æ –∑–∞–¥–∞—á–∞–º‚Ä¶" autocomplete="off"/>
            <button class="ttClear" id="clearSearch" aria-label="–û—á–∏—Å—Ç–∏—Ç—å">√ó</button>
          </div>
          <button class="pillBtn" id="exportBtn">–≠–∫—Å–ø–æ—Ä—Ç</button>
        </div>

        <div class="chipRow" id="smartChips"></div>

        <div class="listHeader">
          <div class="listTitle" id="listTitle">–í—Ö–æ–¥—è—â–∏–µ</div>
          <div class="listCounter" id="taskCount">0</div>
        </div>

        <div class="taskList" id="taskList"></div>

        <div class="emptyState" id="emptyState">
          <div class="emptyIcon">üßæ</div>
          <div class="emptyTitle">–ü–æ–∫–∞ –ø—É—Å—Ç–æ</div>
          <div class="emptyDesc">–ù–∞–∂–º–∏ <b>+</b> –∏ –¥–æ–±–∞–≤—å –ø–µ—Ä–≤—É—é –∑–∞–¥–∞—á—É</div>
        </div>
      </section>

      <!-- CALENDAR SCREEN -->
      <section class="screen" id="screenCalendar">
        <div class="calHeader">
          <button class="iconBtn" id="calPrev" aria-label="–ù–∞–∑–∞–¥"><span class="i i-left"></span></button>
          <div class="calTitleWrap">
            <div class="calTitle" id="calTitle">‚Äî</div>
            <div class="calHint">–ù–∞–∂–º–∏ –¥–µ–Ω—å ‚Äî —É–≤–∏–¥–∏—à—å –∑–∞–¥–∞—á–∏</div>
          </div>
          <button class="iconBtn" id="calNext" aria-label="–í–ø–µ—Ä—ë–¥"><span class="i i-right"></span></button>
        </div>

        <div class="calWeek">
          <div>–ü–Ω</div><div>–í—Ç</div><div>–°—Ä</div><div>–ß—Ç</div><div>–ü—Ç</div><div class="wknd">–°–±</div><div class="wknd">–í—Å</div>
        </div>

        <div class="calGrid" id="calGrid"></div>

        <div class="daySheet" id="daySheet">
          <div class="daySheetHandle"></div>
          <div class="daySheetTop">
            <div>
              <div class="daySheetTitle" id="dayTitle">‚Äî</div>
              <div class="daySheetSub">–ó–∞–¥–∞—á–∏ –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –¥–µ–Ω—å</div>
            </div>
            <button class="pillBtn" id="addTaskForDayBtn">+ –ó–∞–¥–∞—á–∞</button>
          </div>

          <div class="timeline" id="dayTimeline"></div>
          <div class="taskList compact" id="dayTaskList" style="display:none"></div>
          <div class="dayEmpty" id="dayEmpty">
            <div class="emptyIcon">üìÖ</div>
            <div class="emptyTitle">–ù–µ—Ç –∑–∞–¥–∞—á –Ω–∞ —ç—Ç–æ—Ç –¥–µ–Ω—å</div>
            <div class="emptyDesc">–ù–∞–∂–º–∏ <b>+ –ó–∞–¥–∞—á–∞</b> —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å</div>
          </div>
        </div>
      </section>

      <!-- OVERDUE SCREEN -->
      <section class="screen" id="screenMatrix">
        <div class="listHeader">
          <div class="listTitle">Priority Matrix</div>
          <div class="listCounter" id="matrixCount">0</div>
        </div>

        <div class="matrixGrid" id="matrixGrid">
          <div class="matrixCell" data-m="ui">
            <div class="mcHead"><span>–°—Ä–æ—á–Ω–æ</span><b>–í–∞–∂–Ω–æ</b></div>
            <div class="mcList" id="mUI"></div>
          </div>
          <div class="matrixCell" data-m="un">
            <div class="mcHead"><span>–ù–µ —Å—Ä–æ—á–Ω–æ</span><b>–í–∞–∂–Ω–æ</b></div>
            <div class="mcList" id="mUN"></div>
          </div>
          <div class="matrixCell" data-m="ni">
            <div class="mcHead"><span>–°—Ä–æ—á–Ω–æ</span><b>–ù–µ –≤–∞–∂–Ω–æ</b></div>
            <div class="mcList" id="mNI"></div>
          </div>
          <div class="matrixCell" data-m="nn">
            <div class="mcHead"><span>–ù–µ —Å—Ä–æ—á–Ω–æ</span><b>–ù–µ –≤–∞–∂–Ω–æ</b></div>
            <div class="mcList" id="mNN"></div>
          </div>
        </div>
      </section>

      <!-- MENU/SETTINGS -->
      <section class="screen" id="screenMenu">
        <div class="menuCard">
          <div class="menuTitle">–ú–µ–Ω—é</div>
          <div class="menuMeta">Build <span id="buildNum">1770554238</span></div>
          <div class="menuUser" id="menuUserName">–ì–æ—Å—Ç—å</div>
                <div class="menuListsCard">
          <div class="menuSectionHeader">
            <div class="menuSectionBig">–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫</div>
            <button class="miniBtn" id="newListBtn">+ —Å–ø–∏—Å–æ–∫</button>
          </div>
          <div id="menuLists" class="menuLists"></div>
        </div>

</div>

        <div class="menuList">
          <button class="menuItem" id="menuSync">
            <span class="miIcon">‚ü≥</span>
            <span class="miText">
              <span class="miTitle">–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å</span>
              <span class="miSub">–û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞</span>
            </span>
            <span class="miChevron">‚Ä∫</span>
          </button>

          <button class="menuItem" id="menuExport">
            <span class="miIcon">‚á©</span>
            <span class="miText">
              <span class="miTitle">–≠–∫—Å–ø–æ—Ä—Ç JSON</span>
              <span class="miSub">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∑–∞–¥–∞—á–∏ –≤ –±—É—Ñ–µ—Ä</span>
            </span>
            <span class="miChevron">‚Ä∫</span>
          </button>

          <button class="menuItem danger" id="menuClearDone">
            <span class="miIcon">üßπ</span>
            <span class="miText">
              <span class="miTitle">–û—á–∏—Å—Ç–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ</span>
              <span class="miSub">–£–¥–∞–ª–∏—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏ ¬´–ì–æ—Ç–æ–≤–æ¬ª</span>
            </span>
            <span class="miChevron">‚Ä∫</span>
          </button>
        </div>

        <div class="menuCard">
          <div class="menuTitle">–í–Ω–µ—à–Ω–∏–π –≤–∏–¥</div>

          <div class="fieldRow">
            <div class="fieldLabel">
              <div class="fieldName">–¢–µ–º–∞</div>
              <div class="fieldHint">–°–≤–µ—Ç–ª–∞—è / —Ç—ë–º–Ω–∞—è / –∞–≤—Ç–æ</div>
            </div>
            <select id="themeSelect" class="select">
              <option value="auto">–ê–≤—Ç–æ</option>
              <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
              <option value="dark">–¢—ë–º–Ω–∞—è</option>
            </select>
          </div>

          <div class="fieldRow">
            <div class="fieldLabel">
              <div class="fieldName">–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å</div>
              <div class="fieldHint">–í–ª–∏—è–µ—Ç –Ω–∞ –≤—Ä–µ–º—è –∏ –∫–∞–ª–µ–Ω–¥–∞—Ä—å</div>
            </div>
            <select id="tzSelect" class="select"></select>
          </div>
        </div>
      </section>
    </main>

    <!-- Bottom Nav (TickTick-like) -->
    <nav class="bottomNav" id="bottomNav" aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è">
      <button class="navBtn isActive" data-screen="tasks">
        <span class="navI">‚ò∞</span>
        <span class="navT">–ó–∞–¥–∞—á–∏</span>
      </button>
      <button class="navBtn" data-screen="calendar">
        <span class="navI">üìÖ</span>
        <span class="navT">–ö–∞–ª–µ–Ω–¥–∞—Ä—å</span>
      </button>
      <button class="navBtn navAdd" id="navAddBtn" aria-label="–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É">
        <span class="navPlus">Ôºã</span>
      </button>
      <button class="navBtn" data-screen="matrix">
        <span class="navI">‚ñ¶</span>
        <span class="navT">–ú–∞—Ç—Ä–∏—Ü–∞</span>
      </button>
      <button class="navBtn" data-screen="menu">
        <span class="navI">‚öôÔ∏è</span>
        <span class="navT">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</span>
      </button>
    </nav>

    <!-- Floating Action Button like TickTick -->
    <button class="fab" id="fabAdd" aria-label="–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞—á—É">
      <span class="fabPlus">Ôºã</span>
    </button>

    <!-- MODAL: Add/Edit Task -->
    <div class="modalOverlay" id="taskModalOverlay" aria-hidden="true">
      <div class="modal" role="dialog" aria-modal="true" aria-label="–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞">
        <div class="modalHead">
          <div>
            <div class="modalTitle" id="taskModalTitle">–ù–æ–≤–∞—è –∑–∞–¥–∞—á–∞</div>
            <div class="modalSub">–ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω –¥–µ–¥–ª–∞–π–Ω ‚Äî –º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ.</div>
          </div>
          <button class="iconBtn" id="closeTaskModal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"><span class="i i-close"></span></button>
        </div>

        <div class="modalBody">
          <label class="field">
            <div class="fieldName">–ù–∞–∑–≤–∞–Ω–∏–µ</div>
            <input class="input" id="taskTitleInput" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç—á—ë—Ç" />
          </label>

          <label class="field">
            <div class="fieldName">–û–ø–∏—Å–∞–Ω–∏–µ</div>
            <textarea class="textarea" id="taskDescInput" placeholder="–î–µ—Ç–∞–ª–∏ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)"></textarea>
          </label>

          <div class="row2">
            <label class="field">
              <div class="fieldName">–î–∞—Ç–∞</div>
              <input class="input" type="date" id="taskDateInput" />
            </label>
            <label class="field">
              <div class="fieldName">–ù–∞—á–∞–ª–æ</div>
              <input class="input" type="time" id="taskTimeInput" />
            </label>
          </div>

          <div class="row2">
            <label class="field">
              <div class="fieldName">–û–∫–æ–Ω—á–∞–Ω–∏–µ</div>
              <input class="input" type="time" id="taskEndTimeInput" placeholder="‚Äî" />
            </label>
            <label class="field">
              <div class="fieldName">–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–º–∏–Ω)</div>
              <input class="input" type="number" min="5" step="5" id="taskDurationInput" placeholder="30" />
            </label>
          </div>

          <div class="row2">
            <label class="field">
              <div class="fieldName">–¢–∏–ø</div>
              <select class="select" id="taskKindSelect">
                <option value="task" selected>–ó–∞–¥–∞—á–∞</option>
                <option value="meeting">–í—Å—Ç—Ä–µ—á–∞</option>
                <option value="study">–£—á—ë–±–∞</option>
                <option value="other">–î—Ä—É–≥–æ–µ</option>
              </select>
            </label>
            <label class="field">
              <div class="fieldName">–°–ø–∏—Å–æ–∫</div>
              <select class="select" id="taskListSelect"></select>
            </label>
          </div>

          <label class="field">
            <div class="fieldName">–¢–µ–≥–∏</div>
            <input class="input" id="taskTagsInput" placeholder="#—Ä–∞–±–æ—Ç–∞ #—Å–ø–æ—Ä—Ç" />
          </label>

          <label class="field">
            <div class="fieldName">–ú–µ—Å—Ç–æ</div>
            <input class="input" id="taskLocationInput" placeholder="–û—Ñ–∏—Å / Zoom / –î–æ–º" />
          </label>

          <div class="row2">
            <label class="field">
              <div class="fieldName">–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç</div>
              <select class="select" id="taskPrioritySelect">
                <option value="low">–ù–∏–∑–∫–∏–π</option>
                <option value="medium" selected>–°—Ä–µ–¥–Ω–∏–π</option>
                <option value="high">–í—ã—Å–æ–∫–∏–π</option>
              </select>
            </label>
            <label class="field">
              <div class="fieldName">–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ</div>
              <select class="select" id="taskRemindSelect">
                <option value="off">–í—ã–∫–ª</option>
                <option value="on" selected>–í–∫–ª—é—á–µ–Ω–æ (–∑–∞ 15 –º–∏–Ω—É—Ç)</option>
              </select>
            </label>
          </div>

          <div class="modalActions">
            <button class="btnPrimary" id="saveTaskBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
          </div>
        </div>
      </div>
    </div>

    <!-- TOAST -->
    <div class="toast" id="toast" aria-live="polite"></div>
  </div>

  <script src="/app.js?v=1770554238"></script>
</body>
</html>
